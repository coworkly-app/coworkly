<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ —î —Å–≤—ñ—Ç–ª–æ? ‚ö°</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'media',
        }
    </script>
    
    <style>
        body { transition: background-color 0.3s, color 0.3s; }
        /* –¢–µ–∫—Å—Ç—É—Ä—ã –¥–ª—è —Ñ–æ–Ω–∞ */
        .bg-texture-light { background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.12'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }
        .bg-texture-dark { background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }
    </style>
    
    <script type="module">
        // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ (–∏—Å–ø–æ–ª—å–∑—É–µ–º 10.7.1 –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ CDN)
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
        import { getFirestore, collection, addDoc, getDocs, query, orderBy, serverTimestamp, updateDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // –¢–í–û–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (–ò–ó –¢–í–û–ï–ì–û –°–û–û–ë–©–ï–ù–ò–Ø)
        const firebaseConfig = {
            apiKey: "AIzaSyB098Rx6AOCdkjX7ZgX6Zk42uNDv8PXbXc",
            authDomain: "coworkly-3d04d.firebaseapp.com",
            projectId: "coworkly-3d04d",
            storageBucket: "coworkly-3d04d.firebasestorage.app",
            messagingSenderId: "685280227506",
            appId: "1:685280227506:web:9e31da685783f7948159ab",
            measurementId: "G-XNH7HV87L4"
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app); // –ü–æ–¥–∫–ª—é—á–∏–ª–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É
        const db = getFirestore(app);      // –ü–æ–¥–∫–ª—é—á–∏–ª–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

        // --- –î–ê–ù–ù–´–ï –ì–û–†–û–î–û–í ---
        const cities = [
            "–ö–∏—ó–≤", "–•–∞—Ä–∫—ñ–≤", "–û–¥–µ—Å–∞", "–î–Ω—ñ–ø—Ä–æ", "–ó–∞–ø–æ—Ä—ñ–∂–∂—è", "–õ—å–≤—ñ–≤", "–ö—Ä–∏–≤–∏–π –†—ñ–≥", "–ú–∏–∫–æ–ª–∞—ó–≤", 
            "–í—ñ–Ω–Ω–∏—Ü—è", "–ü–æ–ª—Ç–∞–≤–∞", "–ß–µ—Ä–Ω—ñ–≥—ñ–≤", "–ß–µ—Ä–∫–∞—Å–∏", "–ñ–∏—Ç–æ–º–∏—Ä", "–°—É–º–∏", "–†—ñ–≤–Ω–µ", 
            "–Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫", "–ö–∞–º'—è–Ω—Å—å–∫–µ", "–ö—Ä–æ–ø–∏–≤–Ω–∏—Ü—å–∫–∏–π", "–¢–µ—Ä–Ω–æ–ø—ñ–ª—å", "–õ—É—Ü—å–∫", 
            "–ë—ñ–ª–∞ –¶–µ—Ä–∫–≤–∞", "–ö—Ä–µ–º–µ–Ω—á—É–∫", "–ë—Ä–æ–≤–∞—Ä–∏", "–ü–∞–≤–ª–æ–≥—Ä–∞–¥", "–ú—É–∫–∞—á–µ–≤–æ", "–ö–æ–Ω–æ—Ç–æ–ø", "–£–º–∞–Ω—å", 
            "–û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ—è", "–î—Ä–æ–≥–æ–±–∏—á", "–ë–µ—Ä–¥–∏—á—ñ–≤", "–®–æ—Å—Ç–∫–∞", "–Ü–∑–º–∞—ó–ª", "–ù–æ–≤–æ–º–æ—Å–∫–æ–≤—Å—å–∫", 
            "–ö–æ–≤–µ–ª—å", "–ù—ñ–∂–∏–Ω", "–°–º—ñ–ª–∞", "–ö–∞–ª—É—à", "–ß–µ—Ä–≤–æ–Ω–æ–≥—Ä–∞–¥", "–ë–æ—Ä–∏—Å–ø—ñ–ª—å", "–ö–æ—Ä–æ—Å—Ç–µ–Ω—å", "–ö–æ–ª–æ–º–∏—è", "–Ü—Ä–ø—ñ–Ω—å"
        ].sort();

        // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤
        const citySelects = ['searchCity', 'addCity'];
        citySelects.forEach(id => {
            const select = document.getElementById(id);
            if(select) {
                cities.forEach(city => {
                    const opt = document.createElement('option');
                    opt.value = city;
                    opt.textContent = city;
                    select.appendChild(opt);
                });
            }
        });

        // --- –õ–û–ì–ò–ö–ê –ì–ï–û–õ–û–ö–ê–¶–ò–ò (HAVERSINE) ---
        function getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {
            const R = 6371; 
            const dLat = deg2rad(lat2 - lat1);
            const dLon = deg2rad(lon2 - lon1);
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                      Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
            return R * c;
        }

        function deg2rad(deg) { return deg * (Math.PI/180); }

        let userCoords = null;

        // –ó–∞–ø—Ä–æ—Å –ª–æ–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        window.requestUserLocation = () => {
            const statusDiv = document.getElementById('geoStatus');
            if(statusDiv) statusDiv.innerHTML = '<span class="text-blue-500 animate-pulse">–û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç...</span>';
            
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        userCoords = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        if(statusDiv) statusDiv.innerHTML = '<span class="text-green-600">‚úÖ –õ–æ–∫–∞—Ü—ñ—é –≤–∏–∑–Ω–∞—á–µ–Ω–æ</span>';
                        const citySelect = document.getElementById('searchCity');
                        if(citySelect) citySelect.value = ""; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≥–æ—Ä–æ–¥, —Ç–∞–∫ –∫–∞–∫ –∏—â–µ–º –ø–æ GPS
                        loadLocations();
                    },
                    (error) => {
                        console.error("Geo Error:", error);
                        userCoords = null;
                        if(statusDiv) statusDiv.innerHTML = '<span class="text-gray-500">üìç –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (–ø–æ—à—É–∫ –∑–∞ –º—ñ—Å—Ç–æ–º)</span>';
                        loadLocations();
                    }
                );
            } else {
                loadLocations();
            }
        }

        // --- –ó–ê–ì–†–£–ó–ö–ê –ò –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï ---
        async function loadLocations() {
            const listDiv = document.getElementById('locationsList');
            const cityFilter = document.getElementById('searchCity').value;
            
            if(listDiv) listDiv.innerHTML = '<p class="text-center dark:text-gray-400 mt-4">–û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É...</p>';
            
            try {
                // –ó–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
                const q = query(collection(db, "locations"), orderBy("updated_at", "desc"));
                const querySnapshot = await getDocs(q);
                
                let locations = [];

                querySnapshot.forEach((docSnap) => {
                    const data = docSnap.data();
                    let dist = null;
                    // –°—á–∏—Ç–∞–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é, –µ—Å–ª–∏ –µ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ —Ç–∞–º –∏ —Ç–∞–º
                    if (userCoords && data.lat && data.lng) {
                        dist = getDistanceFromLatLonInKm(userCoords.lat, userCoords.lng, data.lat, data.lng);
                    }
                    locations.push({ id: docSnap.id, ...data, distance: dist });
                });

                // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–ª–∏ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
                if (userCoords && !cityFilter) {
                    locations = locations.sort((a, b) => (a.distance || 9999) - (b.distance || 9999));
                } else if (cityFilter) {
                    locations = locations.filter(l => l.city === cityFilter);
                }

                // –û—Ç—Ä–∏—Å–æ–≤–∫–∞
                if(listDiv) {
                    listDiv.innerHTML = '';
                    
                    if (locations.length === 0) {
                        listDiv.innerHTML = `
                            <div class="text-center p-8 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl mt-4 bg-white/50 dark:bg-gray-800/50">
                                <p class="text-xl mb-2">üòî</p>
                                <h3 class="font-bold text-gray-700 dark:text-gray-300">–ü—É—Å—Ç–æ...</h3>
                                <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
                                    –ü–æ –≤–∞—à–æ–º—É –º—ñ—Å—Ç—É —â–µ –Ω–µ –¥–æ–¥–∞–Ω—ñ –∞–¥—Ä–µ—Å–∏ –∫–æ–≤–æ—Ä–∫—ñ–Ω–≥—É. <br>–ó–∞–ª–∏—à–∞–π—Ç–µ—Å—å –∑ –Ω–∞–º–∏!
                                </p>
                            </div>
                        `;
                        return;
                    }

                    locations.forEach((data) => {
                        const date = data.updated_at?.toDate().toLocaleString('uk-UA') || '–©–æ–π–Ω–æ';
                        const distBadge = data.distance ? `<span class="bg-blue-600 text-white px-2 py-0.5 rounded text-xs font-bold shadow-sm">üìç ${data.distance.toFixed(1)} –∫–º</span>` : '';

                        const card = document.createElement('div');
                        card.className = "p-4 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm mb-4 transition-all relative overflow-hidden";
                        card.innerHTML = `
                            <div class="flex justify-between items-start mb-2">
                                <div class="flex flex-col">
                                    <h3 class="font-bold text-lg dark:text-white leading-tight">${data.name}</h3>
                                    <div class="mt-1">${distBadge}</div>
                                </div>
                                <span class="text-[10px] uppercase font-semibold text-gray-400 dark:text-gray-500 text-right min-w-[80px]">–û–Ω–æ–≤–ª–µ–Ω–æ:<br>${date}</span>
                            </div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 border-b border-gray-100 dark:border-gray-700 pb-2 mb-2">${data.city}, ${data.address}</p>
                            <div class="flex gap-2 text-xs font-medium mb-3">
                                <span class="${data.has_power ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-400' : 'bg-gray-100 text-gray-400 dark:bg-gray-700'} px-3 py-1.5 rounded-lg flex items-center gap-1">
                                ${data.has_power ? '‚ö° –Ñ —Å–≤—ñ—Ç–ª–æ' : 'üí§ –ù–µ–º–∞—î —Å–≤—ñ—Ç–ª–∞'}
                                </span>
                                <span class="${data.has_internet ? 'bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-400' : 'bg-gray-100 text-gray-400 dark:bg-gray-700'} px-3 py-1.5 rounded-lg flex items-center gap-1">
                                ${data.has_internet ? 'üåê –Ñ —ñ–Ω–µ—Ç' : 'üö´ –ù–µ–º–∞—î —ñ–Ω–µ—Ç—É'}
                                </span>
                            </div>
                            ${data.description ? `<p class="text-sm text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg mb-3">"${data.description}"</p>` : ''}
                            <button onclick="window.updateStatus('${data.id}')" class="w-full py-2.5 text-blue-600 dark:text-blue-400 text-sm font-semibold border border-blue-100 dark:border-blue-900/50 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex justify-center items-center gap-2">
                                <span>–¶–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ –∑–∞—Ä–∞–∑</span> 
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                            </button>
                        `;
                        listDiv.appendChild(card);
                    });
                }
            } catch (e) {
                console.error("Error loading docs: ", e);
                if(listDiv) listDiv.innerHTML = `<p class="text-red-500 text-center">–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: ${e.message}</p>`;
            }
        }

        // --- –õ–û–ì–ò–ö–ê –î–û–ë–ê–í–õ–ï–ù–ò–Ø ---
        let addCoords = null;
        
        window.getAddLocation = (e) => {
            e.preventDefault();
            const btn = document.getElementById('btnGetLoc');
            btn.innerText = "–í–∏–∑–Ω–∞—á–∞—î–º–æ...";
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((pos) => {
                    addCoords = { lat: pos.coords.latitude, lng: pos.coords.longitude };
                    btn.className = "w-full py-2 bg-green-100 text-green-700 rounded-lg text-sm mb-3 border border-green-300";
                    btn.innerText = "üìç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ!";
                }, (err) => {
                    console.error(err);
                    btn.innerText = "‚ùå –ü–æ–º–∏–ª–∫–∞ GPS (–∑–±–µ—Ä–µ–∂–µ–º–æ –±–µ–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç)";
                });
            }
        };

        window.saveLocation = async () => {
            const btn = document.getElementById('saveBtn');
            const nameField = document.getElementById('addName');
            const cityField = document.getElementById('addCity');
            const addressField = document.getElementById('addAddress');
            
            if(!nameField.value || !addressField.value) {
                alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–∞ –∞–¥—Ä–µ—Å—É");
                return;
            }

            try {
                btn.disabled = true;
                btn.innerText = "–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è...";

                const docData = {
                    name: nameField.value,
                    city: cityField.value,
                    address: addressField.value,
                    has_power: document.getElementById('hasPower').checked,
                    has_internet: document.getElementById('hasInternet').checked,
                    description: document.getElementById('addDesc').value,
                    updated_at: serverTimestamp()
                };

                if (addCoords) {
                    docData.lat = addCoords.lat;
                    docData.lng = addCoords.lng;
                }

                await addDoc(collection(db, "locations"), docData);
                
                // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞
                location.reload(); 
            } catch (error) {
                console.error("Error adding document: ", error);
                alert("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –ë–î): " + error.message);
                btn.disabled = false;
                btn.innerText = "–û–ü–£–ë–õ–Ü–ö–£–í–ê–¢–ò";
            }
        };

        window.updateStatus = async (id) => {
            try {
                const docRef = doc(db, "locations", id);
                await updateDoc(docRef, { updated_at: serverTimestamp() });
                loadLocations();
            } catch (e) {
                console.error("Update error:", e);
            }
        };

        // –≠–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–π
        window.loadLocations = loadLocations;
        window.requestUserLocation = requestUserLocation;
        
    </script>
</head>

<body class="bg-gray-50 dark:bg-gray-900 bg-texture-light dark:bg-texture-dark min-h-screen font-sans text-gray-900 dark:text-gray-100">

    <nav class="bg-blue-600 dark:bg-blue-800 text-white p-4 shadow-lg sticky top-0 z-20">
        <h1 class="text-xl font-black text-center tracking-tight">–î–ï –Ñ –°–í–Ü–¢–õ–û? ‚ö°</h1>
    </nav>

    <div class="max-w-md mx-auto p-4">
        
        <div class="flex mb-6 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl p-1 shadow-inner border border-gray-100 dark:border-gray-700">
            <button onclick="showTab('find')" id="tabFind" class="flex-1 py-2.5 rounded-lg bg-blue-600 text-white font-bold transition-all shadow-md">–ó–Ω–∞–π—Ç–∏</button>
            <button onclick="showTab('add')" id="tabAdd" class="flex-1 py-2.5 rounded-lg text-gray-500 dark:text-gray-400 font-bold transition-all">–î–æ–¥–∞—Ç–∏</button>
        </div>

        <div id="sectionFind" class="space-y-4">
            <div class="bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700">
                <div class="flex gap-2 mb-2">
                    <select id="searchCity" onchange="window.loadLocations()" class="flex-1 p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-blue-500 dark:text-white">
                        <option value="" disabled selected>–û–±–µ—Ä—ñ—Ç—å –º—ñ—Å—Ç–æ...</option>
                    </select>
                    <button onclick="window.requestUserLocation()" class="bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300 p-3 rounded-xl border border-blue-200 dark:border-blue-800" title="–ó–Ω–∞–π—Ç–∏ –ø–æ—Ä—É—á">
                        üìç
                    </button>
                </div>
                <div id="geoStatus" class="text-xs text-center font-medium h-4"></div>
            </div>

            <div id="locationsList"></div>
        </div>

        <div id="sectionAdd" class="hidden bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm p-5 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl">
            <h2 class="text-xl font-bold mb-5 dark:text-white text-center">–î–æ–¥–∞—Ç–∏ –ª–æ–∫–∞—Ü—ñ—é</h2>
            
            <div class="space-y-4">
                <input type="text" id="addName" placeholder="–ù–∞–∑–≤–∞ (–Ω–∞–ø—Ä. –ö–∞—Ñ–µ '–°–≤—ñ—Ç–ª–æ')" class="w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-green-500 dark:text-white">
                
                <select id="addCity" class="w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none dark:text-white"></select>
                
                <input type="text" id="addAddress" placeholder="–ê–¥—Ä–µ—Å–∞ —Ç–µ–∫—Å—Ç–æ–º" class="w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-green-500 dark:text-white">
                
                <button id="btnGetLoc" onclick="window.getAddLocation(event)" class="w-full py-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg text-sm mb-3 border border-gray-300 dark:border-gray-600 hover:bg-gray-200 transition">
                    üìç –Ø –∑–∞—Ä–∞–∑ —Ç—É—Ç (–¥–æ–¥–∞—Ç–∏ –º–æ—ó –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏)
                </button>

                <div class="flex gap-4 py-2">
                    <label class="flex items-center gap-3 cursor-pointer group">
                        <input type="checkbox" id="hasPower" class="w-5 h-5 rounded border-gray-300 text-yellow-500 focus:ring-yellow-500">
                        <span class="text-sm font-medium group-hover:text-yellow-600">–°–≤—ñ—Ç–ª–æ</span>
                    </label>
                    <label class="flex items-center gap-3 cursor-pointer group">
                        <input type="checkbox" id="hasInternet" class="w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500">
                        <span class="text-sm font-medium group-hover:text-blue-600">–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç</span>
                    </label>
                </div>
                
                <textarea id="addDesc" rows="3" placeholder="–£–º–æ–≤–∏ (–Ω–∞–ø—Ä. –≤—Ö—ñ–¥ 100 –≥—Ä–Ω)" class="w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-green-500 dark:text-white"></textarea>
                
                <button id="saveBtn" onclick="window.saveLocation()" class="w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-xl font-black text-lg shadow-lg shadow-green-900/20 transition-all active:scale-95">–û–ü–£–ë–õ–Ü–ö–£–í–ê–¢–ò</button>
            </div>
        </div>
    </div>

    <script>
        function showTab(tab) {
            const find = document.getElementById('sectionFind');
            const add = document.getElementById('sectionAdd');
            const tFind = document.getElementById('tabFind');
            const tAdd = document.getElementById('tabAdd');

            if (tab === 'find') {
                find.classList.remove('hidden');
                add.classList.add('hidden');
                tFind.className = "flex-1 py-2.5 rounded-lg bg-blue-600 text-white font-bold transition-all shadow-md";
                tAdd.className = "flex-1 py-2.5 rounded-lg text-gray-500 dark:text-gray-400 font-bold transition-all";
                window.requestUserLocation();
            } else {
                find.classList.add('hidden');
                add.classList.remove('hidden');
                tAdd.className = "flex-1 py-2.5 rounded-lg bg-green-600 text-white font-bold transition-all shadow-md";
                tFind.className = "flex-1 py-2.5 rounded-lg text-gray-500 dark:text-gray-400 font-bold transition-all";
            }
        }
    </script>
</body>
</html>
