<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ —î —Å–≤—ñ—Ç–ª–æ? ‚ö°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'media',
        }
    </script>
    <style>
        body { transition: background-color 0.3s, color 0.3s; }
        .bg-texture-light { background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.12'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }
        .bg-texture-dark { background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }
    </style>
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, query, orderBy, serverTimestamp, updateDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // –í–°–¢–ê–í –°–Æ–î–ò –°–í–û–á –î–ê–ù–Ü FIREBASE
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const cities = [
            "–ö–∏—ó–≤", "–•–∞—Ä–∫—ñ–≤", "–û–¥–µ—Å–∞", "–î–Ω—ñ–ø—Ä–æ", "–ó–∞–ø–æ—Ä—ñ–∂–∂—è", "–õ—å–≤—ñ–≤", "–ö—Ä–∏–≤–∏–π –†—ñ–≥", "–ú–∏–∫–æ–ª–∞—ó–≤", 
            "–í—ñ–Ω–Ω–∏—Ü—è", "–ü–æ–ª—Ç–∞–≤–∞", "–ß–µ—Ä–Ω—ñ–≥—ñ–≤", "–ß–µ—Ä–∫–∞—Å–∏", "–ñ–∏—Ç–æ–º–∏—Ä", "–°—É–º–∏", "–†—ñ–≤–Ω–µ", 
            "–Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫", "–ö–∞–º'—è–Ω—Å—å–∫–µ", "–ö—Ä–æ–ø–∏–≤–Ω–∏—Ü—å–∫–∏–π", "–¢–µ—Ä–Ω–æ–ø—ñ–ª—å", "–õ—É—Ü—å–∫", 
            "–ë—ñ–ª–∞ –¶–µ—Ä–∫–≤–∞", "–ö—Ä–µ–º–µ–Ω—á—É–∫", "–ë—Ä–æ–≤–∞—Ä–∏", "–ü–∞–≤–ª–æ–≥—Ä–∞–¥", "–ú—É–∫–∞—á–µ–≤–æ", "–ö–æ–Ω–æ—Ç–æ–ø", "–£–º–∞–Ω—å", 
            "–û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ—è", "–î—Ä–æ–≥–æ–±–∏—á", "–ë–µ—Ä–¥–∏—á—ñ–≤", "–®–æ—Å—Ç–∫–∞", "–Ü–∑–º–∞—ó–ª", "–ù–æ–≤–æ–º–æ—Å–∫–æ–≤—Å—å–∫", 
            "–ö–æ–≤–µ–ª—å", "–ù—ñ–∂–∏–Ω", "–°–º—ñ–ª–∞", "–ö–∞–ª—É—à", "–ß–µ—Ä–≤–æ–Ω–æ–≥—Ä–∞–¥", "–ë–æ—Ä–∏—Å–ø—ñ–ª—å", "–ö–æ—Ä–æ—Å—Ç–µ–Ω—å", "–ö–æ–ª–æ–º–∏—è", "–Ü—Ä–ø—ñ–Ω—å"
        ].sort();

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–ø–∏—Å–∫—ñ–≤ –º—ñ—Å—Ç
        const citySelects = ['searchCity', 'addCity'];
        citySelects.forEach(id => {
            const select = document.getElementById(id);
            cities.forEach(city => {
                const opt = document.createElement('option');
                opt.value = city;
                opt.textContent = city;
                select.appendChild(opt);
            });
        });

        // –§–æ—Ä–º—É–ª–∞ Haversine –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –≤—ñ–¥—Å—Ç–∞–Ω—ñ (–≤ –∫–º)
        function getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {
            const R = 6371; // –†–∞–¥—ñ—É—Å –∑–µ–º–ª—ñ –≤ –∫–º
            const dLat = deg2rad(lat2 - lat1);
            const dLon = deg2rad(lon2 - lon1);
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                      Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
            return R * c;
        }

        function deg2rad(deg) { return deg * (Math.PI/180); }

        // –ó–º—ñ–Ω–Ω–∞ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ª–æ–∫–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
        let userCoords = null;

        // –§—É–Ω–∫—Ü—ñ—è –∑–∞–ø–∏—Ç—É –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—ó
        window.requestUserLocation = () => {
            const statusDiv = document.getElementById('geoStatus');
            statusDiv.innerHTML = '<span class="text-blue-500 animate-pulse">–û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç...</span>';
            
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        userCoords = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        statusDiv.innerHTML = '<span class="text-green-600">‚úÖ –õ–æ–∫–∞—Ü—ñ—é –≤–∏–∑–Ω–∞—á–µ–Ω–æ</span>';
                        // –°–∫–∏–¥–∞—î–º–æ —Ñ—ñ–ª—å—Ç—Ä –º—ñ—Å—Ç–∞, –±–æ —à—É–∫–∞—î–º–æ –ø–æ GPS
                        document.getElementById('searchCity').value = "";
                        loadLocations();
                    },
                    (error) => {
                        console.error(error);
                        userCoords = null;
                        statusDiv.innerHTML = '<span class="text-gray-500">üìç –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (–ø–æ—à—É–∫ –∑–∞ –º—ñ—Å—Ç–æ–º)</span>';
                        loadLocations(); // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –ø—Ä–æ—Å—Ç–æ –∑–∞ —Å–ø–∏—Å–∫–æ–º
                    }
                );
            } else {
                statusDiv.innerHTML = "–ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º";
                loadLocations();
            }
        }

        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
        async function loadLocations() {
            const listDiv = document.getElementById('locationsList');
            const cityFilter = document.getElementById('searchCity').value;
            
            listDiv.innerHTML = '<p class="text-center dark:text-gray-400 mt-4">–û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É...</p>';
            
            const q = query(collection(db, "locations"), orderBy("updated_at", "desc"));
            const querySnapshot = await getDocs(q);
            
            let locations = [];

            querySnapshot.forEach((docSnap) => {
                const data = docSnap.data();
                let dist = null;

                // –Ø–∫—â–æ —î –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ —É —é–∑–µ—Ä–∞ –Ü —É –∑–∞–∫–ª–∞–¥—É - —Ä–∞—Ö—É—î–º–æ –≤—ñ–¥—Å—Ç–∞–Ω—å
                if (userCoords && data.lat && data.lng) {
                    dist = getDistanceFromLatLonInKm(userCoords.lat, userCoords.lng, data.lat, data.lng);
                }

                locations.push({
                    id: docSnap.id,
                    ...data,
                    distance: dist
                });
            });

            // –õ–æ–≥—ñ–∫–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó
            if (userCoords && !cityFilter) {
                // –Ø–∫—â–æ —î GPS —ñ –Ω–µ –≤–∏–±—Ä–∞–Ω–æ –º—ñ—Å—Ç–æ –≤—Ä—É—á–Ω—É -> —Å–æ—Ä—Ç—É—î–º–æ –∑–∞ –≤—ñ–¥—Å—Ç–∞–Ω–Ω—é
                locations = locations.sort((a, b) => (a.distance || 9999) - (b.distance || 9999));
                // –§—ñ–ª—å—Ç—Ä—É—î–º–æ —Ç—ñ, —â–æ –¥—É–∂–µ –¥–∞–ª–µ–∫–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ > 100–∫–º), —â–æ–± –Ω–µ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ —ñ–Ω—à—ñ –º—ñ—Å—Ç–∞
                // locations = locations.filter(l => l.distance < 100); 
            } else if (cityFilter) {
                // –Ø–∫—â–æ –≤–∏–±—Ä–∞–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–µ –º—ñ—Å—Ç–æ -> —Ñ—ñ–ª—å—Ç—Ä—É—î–º–æ –∑–∞ –Ω–∞–∑–≤–æ—é –º—ñ—Å—Ç–∞
                locations = locations.filter(l => l.city === cityFilter);
            }

            // –†–µ–Ω–¥–µ—Ä—ñ–Ω–≥
            listDiv.innerHTML = '';

            if (locations.length === 0) {
                listDiv.innerHTML = `
                    <div class="text-center p-8 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl mt-4">
                        <p class="text-xl mb-2">üòî</p>
                        <h3 class="font-bold text-gray-700 dark:text-gray-300">–ü—É—Å—Ç–æ...</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
                            –ü–æ –≤–∞—à–æ–º—É –º—ñ—Å—Ç—É —â–µ –Ω–µ –¥–æ–¥–∞–Ω—ñ –∞–¥—Ä–µ—Å–∏ –∫–æ–≤–æ—Ä–∫—ñ–Ω–≥—É. 
                            <br>–ó–∞–ª–∏—à–∞–π—Ç–µ—Å—å –∑ –Ω–∞–º–∏ —Ç–∞ —Å–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏!
                        </p>
                    </div>
                `;
                return;
            }

            locations.forEach((data) => {
                const date = data.updated_at?.toDate().toLocaleString('uk-UA') || '–©–æ–π–Ω–æ';
                const distBadge = data.distance 
                    ? `<span class="bg-blue-600 text-white px-2 py-0.5 rounded text-xs font-bold shadow-sm">üìç ${data.distance.toFixed(1)} –∫–º</span>` 
                    : '';

                const card = document.createElement('div');
                card.className = "p-4 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm mb-4 transition-all relative overflow-hidden";
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <div class="flex flex-col">
                            <h3 class="font-bold text-lg dark:text-white leading-tight">${data.name}</h3>
                            <div class="mt-1">${distBadge}</div>
                        </div>
                        <span class="text-[10px] uppercase font-semibold text-gray-400 dark:text-gray-500 text-right min-w-[80px]">–û–Ω–æ–≤–ª–µ–Ω–æ:<br>${date}</span>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 border-b border-gray-100 dark:border-gray-700 pb-2 mb-2">${data.city}, ${data.address}</p>
                    
                    <div class="flex gap-2 text-xs font-medium mb-3">
                        <span class="${data.has_power ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-400' : 'bg-gray-100 text-gray-400 dark:bg-gray-700'} px-3 py-1.5 rounded-lg flex items-center gap-1">
                           ${data.has_power ? '‚ö° –Ñ —Å–≤—ñ—Ç–ª–æ' : 'üí§ –ù–µ–º–∞—î —Å–≤—ñ—Ç–ª–∞'}
                        </span>
                        <span class="${data.has_internet ? 'bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-400' : 'bg-gray-100 text-gray-400 dark:bg-gray-700'} px-3 py-1.5 rounded-lg flex items-center gap-1">
                           ${data.has_internet ? 'üåê –Ñ —ñ–Ω–µ—Ç' : 'üö´ –ù–µ–º–∞—î —ñ–Ω–µ—Ç—É'}
                        </span>
                    </div>

                    ${data.description ? `<p class="text-sm text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg mb-3">"${data.description}"</p>` : ''}
                    
                    <button onclick="window.updateStatus('${data.id}')" class="w-full py-2.5 text-blue-600 dark:text-blue-400 text-sm font-semibold border border-blue-100 dark:border-blue-900/50 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex justify-center items-center gap-2">
                        <span>–¶–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ –∑–∞—Ä–∞–∑</span> 
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                    </button>
                `;
                listDiv.appendChild(card);
            });
        }

        // –î–æ–¥–∞–≤–∞–Ω–Ω—è –ª–æ–∫–∞—Ü—ñ—ó –∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ (—è–∫—â–æ —î)
        let addCoords = null;
        
        // –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ
        window.getAddLocation = (e) => {
            e.preventDefault();
            const btn = document.getElementById('btnGetLoc');
            btn.innerText = "–í–∏–∑–Ω–∞—á–∞—î–º–æ...";
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((pos) => {
                    addCoords = { lat: pos.coords.latitude, lng: pos.coords.longitude };
                    btn.className = "w-full py-2 bg-green-100 text-green-700 rounded-lg text-sm mb-3 border border-green-300";
                    btn.innerText = "üìç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ!";
                }, () => {
                    btn.innerText = "‚ùå –ü–æ–º–∏–ª–∫–∞ GPS (–±—É–¥–µ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –±–µ–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç)";
                });
            }
        };

        window.saveLocation = async () => {
            const btn = document.getElementById('saveBtn');
            const name = document.getElementById('addName').value;
            if(!name) return alert("–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∑–∞–∫–ª–∞–¥—É");

            btn.disabled = true;
            btn.innerText = "–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è...";

            const docData = {
                name: name,
                city: document.getElementById('addCity').value,
                address: document.getElementById('addAddress').value,
                has_power: document.getElementById('hasPower').checked,
                has_internet: document.getElementById('hasInternet').checked,
                description: document.getElementById('addDesc').value,
                updated_at: serverTimestamp()
            };

            // –Ø–∫—â–æ –≤–¥–∞–ª–æ—Å—è –≤–∑—è—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ
            if (addCoords) {
                docData.lat = addCoords.lat;
                docData.lng = addCoords.lng;
            }

            await addDoc(collection(db, "locations"), docData);
            location.reload(); 
        };

        window.updateStatus = async (id) => {
            const docRef = doc(db, "locations", id);
            await updateDoc(docRef, { updated_at: serverTimestamp() });
            loadLocations();
        };

        // –ï–∫—Å–ø–æ—Ä—Ç—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—ó
        window.loadLocations = loadLocations;
        window.requestUserLocation = requestUserLocation;
        
    </script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 bg-texture-light dark:bg-texture-dark min-h-screen font-sans text-gray-900 dark:text-gray-100">

    <nav class="bg-blue-600 dark:bg-blue-800 text-white p-4 shadow-lg sticky top-0 z-20">
        <h1 class="text-xl font-black text-center tracking-tight">–î–ï –Ñ –°–í–Ü–¢–õ–û? ‚ö°</h1>
    </nav>

    <div class="max-w-md mx-auto p-4">
        
        <div class="flex mb-6 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl p-1 shadow-inner border border-gray-100 dark:border-gray-700">
            <button onclick="showTab('find')" id="tabFind" class="flex-1 py-2.5 rounded-lg bg-blue-600 text-white font-bold transition-all shadow-md">–ó–Ω–∞–π—Ç–∏</button>
            <button onclick="showTab('add')" id="tabAdd" class="flex-1 py-2.5 rounded-lg text-gray-500 dark:text-gray-400 font-bold transition-all">–î–æ–¥–∞—Ç–∏</button>
        </div>

        <div id="sectionFind" class="space-y-4">
            
            <div class="bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700">
                <div class="flex gap-2 mb-2">
                    <select id="searchCity" onchange="window.loadLocations()" class="flex-1 p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-blue-500 dark:text-white">
                        <option value="" disabled selected>–û–±–µ—Ä—ñ—Ç—å –º—ñ—Å—Ç–æ...</option>
                        </select>
                    <button onclick="window.requestUserLocation()" class="bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300 p-3 rounded-xl border border-blue-200 dark:border-blue-800" title="–ó–Ω–∞–π—Ç–∏ –ø–æ—Ä—É—á">
                        üìç
                    </button>
                </div>
                <div id="geoStatus" class="text-xs text-center font-medium h-4"></div>
            </div>

            <div id="locationsList"></div>
        </div>

        <div id="sectionAdd" class="hidden bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm p-5 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl">
            <h2 class="text-xl font-bold mb-5 dark:text-white text-center">–î–æ–¥–∞—Ç–∏ –ª–æ–∫–∞—Ü—ñ—é</h2>
            
            <div class="space-y-4">
                <input type="text" id="addName" placeholder="–ù–∞–∑–≤–∞ (–Ω–∞–ø—Ä. –ö–∞—Ñ–µ '–°–≤—ñ—Ç–ª–æ')" class="w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-green-500 dark:text-white">
                
                <select id="addCity" class="w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none dark:text-white"></select>
                
                <input type="text" id="addAddress" placeholder="–ê–¥—Ä–µ—Å–∞ —Ç–µ–∫—Å—Ç–æ–º" class="w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-green-500 dark:text-white">
                
                <button id="btnGetLoc" onclick="window.getAddLocation(event)" class="w-full py-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg text-sm mb-3 border border-gray-300 dark:border-gray-600 hover:bg-gray-200 transition">
                    üìç –Ø –∑–∞—Ä–∞–∑ —Ç—É—Ç (–¥–æ–¥–∞—Ç–∏ –º–æ—ó –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏)
                </button>

                <div class="flex gap-4 py-2">
                    <label class="flex items-center gap-3 cursor-pointer group">
                        <input type="checkbox" id="hasPower" class="w-5 h-5 rounded border-gray-300 text-yellow-500 focus:ring-yellow-500">
                        <span class="text-sm font-medium group-hover:text-yellow-600">–°–≤—ñ—Ç–ª–æ</span>
                    </label>
                    <label class="flex items-center gap-3 cursor-pointer group">
                        <input type="checkbox" id="hasInternet" class="w-5 h-5 rounded border-gray-300 text-blue-500 focus:ring-blue-500">
                        <span class="text-sm font-medium group-hover:text-blue-600">–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç</span>
                    </label>
                </div>
                
                <textarea id="addDesc" rows="3" placeholder="–£–º–æ–≤–∏ (–Ω–∞–ø—Ä. –≤—Ö—ñ–¥ 100 –≥—Ä–Ω)" class="w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-green-500 dark:text-white"></textarea>
                
                <button id="saveBtn" onclick="window.saveLocation()" class="w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-xl font-black text-lg shadow-lg shadow-green-900/20 transition-all active:scale-95">–û–ü–£–ë–õ–Ü–ö–£–í–ê–¢–ò</button>
            </div>
        </div>
    </div>

    <script>
        function showTab(tab) {
            const find = document.getElementById('sectionFind');
            const add = document.getElementById('sectionAdd');
            const tFind = document.getElementById('tabFind');
            const tAdd = document.getElementById('tabAdd');

            if (tab === 'find') {
                find.classList.remove('hidden');
                add.classList.add('hidden');
                tFind.className = "flex-1 py-2.5 rounded-lg bg-blue-600 text-white font-bold transition-all shadow-md";
                tAdd.className = "flex-1 py-2.5 rounded-lg text-gray-500 dark:text-gray-400 font-bold transition-all";
                
                // –ê–í–¢–û–ú–ê–¢–ò–ß–ù–ò–ô –ó–ê–ü–ò–¢ –ì–ï–û–õ–û–ö–ê–¶–Ü–á –ü–†–ò –í–•–û–î–Ü
                window.requestUserLocation();

            } else {
                find.classList.add('hidden');
                add.classList.remove('hidden');
                tAdd.className = "flex-1 py-2.5 rounded-lg bg-green-600 text-white font-bold transition-all shadow-md";
                tFind.className = "flex-1 py-2.5 rounded-lg text-gray-500 dark:text-gray-400 font-bold transition-all";
            }
        }
    </script>
</body>
</html>
